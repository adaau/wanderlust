app.controller('PlaceCtrl', ['$scope', '$auth', '$stateParams', 'PlaceFactory', '$state', '$http', 'highchartsNG', function($scope, $auth, $stateParams, PlaceFactory, $state, $http, highchartsNG){
  console.log('PlaceCtrl')
  $scope.places = [];

  var url = "<%= ENV['URL'] %>" || "http://localhost:3000";

  if ($state.current.name == "places") { // INDEX
    $scope.places = PlaceFactory.query();
  } else { // SHOW
    $scope.place = PlaceFactory.get({id: $stateParams.id});
  }

  function getRandomPlaces() {
    $http
      .get(url + '/api/places/random')
      .then(function(response){
        console.log(response)
        $scope.randoms = response.data
      })
  };

  getRandomPlaces();

  // $scope.chartConfig = {
  //   options: {
  //     chart: {
  //       type: 'bar'
  //     }
  //   },
  //   series: [{
  //     data: [10, 15, 12, 8, 7]
  //   }],
  //   title: {
  //     text: 'Hello'
  //   },

  //   loading: false
  // }
}])
